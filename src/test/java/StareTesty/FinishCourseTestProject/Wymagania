Wprowadzenie

StronÄ…, dla ktÃ³rej wykonamy projekt testowy, a wiÄ™c napiszemy testy jest fakestore.testelka.pl.
Sklep jest postawiony na WordPressie, a moduÅ‚ sprzedaÅ¼y to WooCommerce.
PÅ‚atnoÅ›ci dokonywane sÄ… za pomocÄ… bramki pÅ‚atnoÅ›ci Stripe i dedykowanej wtyczki umoÅ¼liwiajÄ…cej integracjÄ™ sklepu z tÄ… bramkÄ….
Na potrzeby tego zadania zakÅ‚adamy, Å¼e wszystkie trzy rzeczy bÄ™dÄ… regularnie aktualizowane tak czÄ™sto, jak bÄ™dÄ… dostÄ™pne ich nowe wersje.
Trzeba zatem regularnie potwierdzaÄ‡, Å¼e po kaÅ¼dej kolejnej aktualizacji najwaÅ¼niejsze funkcjonalnoÅ›ci nadal dziaÅ‚ajÄ… jak powinny
i do tego w tym zadaniu bÄ™dziemy potrzebowaÄ‡ testÃ³w automatycznych.

Zakres zadania

Twoim zadaniem jest napisanie testÃ³w regresyjnych, ktÃ³re mogÅ‚y by byÄ‡ uruchamianie po kaÅ¼dej aktualizacji WooCommerce, Stripe albo WordPressa.
Zadaniem tym testÃ³w bÄ™dzie potwierdzenie, Å¼e poniÅ¼ej wymienione wymagania sÄ… nadal speÅ‚nione i nic siÄ™ nie popsuÅ‚o po aktualizacji.
W ramach tego projektu do najwaÅ¼niejszych funkcjonalnoÅ›ci zaliczyÅ‚am proces od momentu dodania produktu do koszyka, aÅ¼ po pÅ‚atnoÅ›Ä‡
i tylko tego procesu bÄ™dÄ… dotyczyÅ‚y poniÅ¼sze wymagania. ResztÄ™ pominiemy i nie bÄ™dziemy tworzyÄ‡ testÃ³w do innych czÄ™Å›ci sklepu.
PoniÅ¼ej lista akcji, ktÃ³rych dziaÅ‚anie chcemy weryfikowaÄ‡ testami regresyjnymi (to na ich podstawie zbudujesz przypadki testowe):
â€¢	uÅ¼ytkownik ma moÅ¼liwoÅ›Ä‡ dodania wybranej wycieczki do koszyka ze strony tej wycieczki,
â€¢	uÅ¼ytkownik ma moÅ¼liwoÅ›Ä‡ dodania wybranej wycieczki do koszyka ze strony kategorii,
â€¢	uÅ¼ytkownik ma moÅ¼liwoÅ›Ä‡ dodania co najmniej 10 wycieczek do koszyka (w sumie i w dowolnej kombinacji),
â€¢	uÅ¼ytkownik ma moÅ¼liwoÅ›Ä‡ wybrania iloÅ›ci wycieczek, ktÃ³re chce zakupiÄ‡, na stronie produktu (np. dla zamÃ³wienia dla kilku osÃ³b),
â€¢	uÅ¼ytkownik ma moÅ¼liwoÅ›Ä‡ dodania 10 rÃ³Å¼nych wycieczek do koszyka,
â€¢	uÅ¼ytkownik ma moÅ¼liwoÅ›Ä‡ zmiany iloÅ›ci wybranej wycieczki (pojedynczej pozycji) na stronie koszyka,
â€¢	uÅ¼ytkownik ma moÅ¼liwoÅ›Ä‡ usuniÄ™cia wycieczki na stronie koszyka (caÅ‚ej pozycji),
â€¢	uÅ¼ytkownik jest informowany o bÅ‚Ä™dach w formularzu na stronie pÅ‚atnoÅ›ci poprzez odpowiednie komunikaty,
â€¢	uÅ¼ytkownik ma moÅ¼liwoÅ›Ä‡ zalogowania siÄ™ na stronie pÅ‚atnoÅ›ci i dokonaÄ‡ pÅ‚atnoÅ›ci jako zalogowany uÅ¼ytkownik,
â€¢	uÅ¼ytkownik ma moÅ¼liwoÅ›Ä‡ zaÅ‚oÅ¼enia konta na stronie pÅ‚atnoÅ›ci i dokonaÄ‡ jednoczeÅ›nie pÅ‚atnoÅ›ci,
â€¢	uÅ¼ytkownik ma moÅ¼liwoÅ›Ä‡ dokonania zakupu bez zakÅ‚adania konta,
â€¢	uÅ¼ytkownik, ktÃ³ry posiada konto moÅ¼e zobaczyÄ‡ swoje zamÃ³wienia na swoim koncie,
â€¢	uÅ¼ytkownik po dokonaniu zamÃ³wienia moÅ¼e zobaczyÄ‡ podsumowanie, ktÃ³re zawiera numer zamÃ³wienia, poprawnÄ… datÄ™, kwotÄ™, metodÄ™ pÅ‚atnoÅ›ci, nazwÄ™ i iloÅ›Ä‡ zakupionych produktÃ³w.
Strona koszyka to: https://fakestore.testelka.pl/koszyk/
A strona pÅ‚atnoÅ›ci: https://fakestore.testelka.pl/zamowienie/
ZaÅ‚oÅ¼enia i wykluczenia

Dokonamy tutaj kilku zaÅ‚oÅ¼eÅ„. WeÅº je pod uwagÄ™ w trakcie pisania testÃ³w automatycznych.
Wykluczenia
â€¢	Nie testujemy bramki pÅ‚atnoÅ›ci Stripe i komunikatÃ³w jej dotyczÄ…cych;
    wybieramy zatem jako metodÄ™ pÅ‚atnoÅ›ci tÄ… domyÅ›lnÄ… podanÄ… na stronie pÅ‚atnoÅ›ci na Fakestore,
    zaraz powyÅ¼ej pÃ³l do danych karty (czyli karta o numerze 4242424242424242 z dowolnym kodem CVC oraz prawidÅ‚owÄ… datÄ… waÅ¼noÅ›ci).
â€¢	Na potrzeby tego zadania, pomijamy testowanie powiadomieÅ„ mailowych.
â€¢	Nie testuj wszystkich kombinacji nieprawidÅ‚owych kodÃ³w pocztowych. Wystarczy, Å¼e sprawdzisz, Å¼e jak to pole jest puste,
    to przy prÃ³bie zakupu wyÅ›wietla siÄ™ odpowiedni komunikat.
â€¢	Pomijamy testowanie kuponÃ³w rabatowych.
â€¢	Nie testujemy procesu zakÅ‚adania konta. PotwierdÅº tylko, Å¼e moÅ¼esz zamÃ³wiÄ‡ produkt z jednoczesnym zaÅ‚oÅ¼eniem konta.
â€¢	Nie testujemy stanu magazynowego (czyli iloÅ›ci dostÄ™pnych produktÃ³w).
â€¢	Na stronie pÅ‚atnoÅ›ci nie testujemy nieobowiÄ…zkowych pÃ³l.

ZaÅ‚oÅ¼enia
â€¢	ZakÅ‚adamy, Å¼e obecne dziaÅ‚anie strony jest prawidÅ‚owe, a w szczegÃ³lnoÅ›ci, Å¼e wyÅ›wietlane komunikaty sÄ… w porzÄ…dku (chyba, Å¼e coÅ› jest nieprzetÅ‚umaczone).
â€¢	Po kaÅ¼dym teÅ›cie, w ktÃ³rym tworzysz nowe konto, usuÅ„ stworzonego uÅ¼ytkownika (link â€UsuÅ„ kontoâ€ dostÄ™pny jest z kokpitu w â€Moim koncieâ€ po zalogowaniu).
â€¢	Testy powinny dziaÅ‚aÄ‡ zarÃ³wno na Chrome i Firefoxa (po prostu potwierdÅº, Å¼e Twoje testy dziaÅ‚ajÄ… na obu przeglÄ…darkach;
    konfiguracjÄ™ na staÅ‚e moÅ¼esz mieÄ‡ tylko w jednej). Å»eby sobie uÅ‚atwiÄ‡ Å¼ycie i pracÄ™ skorzystaj z WebDriverManager, ktÃ³ry sam ogarnie odpowiednie drivery.
â€¢	Zadanie robimy jeszcze bez Page Object Model.
â€¢	Testy majÄ… siÄ™ uruchamiaÄ‡ lokalnie.

Sugestie i podpowiedzi

Przypominam kilka zasad, o ktÃ³rych mÃ³wiÅ‚am juÅ¼ po drodze w kursie ale takÅ¼e kilka dodatkowych sugestii jak siÄ™ za to zabraÄ‡.
â€¢	Po pierwsze nie panikuj jeÅ¼eli nie wiesz do koÅ„ca jak siÄ™ za to zabraÄ‡. To zadanie nie jest ani sprawdzianem ani potwierdzeniem Twoich umiejÄ™tnoÅ›ci.
    Jest natomiast narzÄ™dziem do nauki trochÄ™ innych umiejÄ™tnoÅ›ci, niÅ¼ do tej pory. ZrÃ³b jak Ci siÄ™ wydaje, Å¼e bÄ™dzie najlepiej.
    PÃ³Åºniej porÃ³wnasz to z moim rozwiÄ…zaniem i podyskutujemy o rÃ³Å¼nych podejÅ›ciach ğŸ˜‰ Bo przypominam, Å¼e moÅ¼na to ogarnÄ…Ä‡ na wiele sposobÃ³w. A jak siÄ™ zatniesz to zajrzyj do sekcji.
â€¢	Zacznij od krÃ³tkiego zapoznania siÄ™ ze stronÄ… i stronÄ… pÅ‚atnoÅ›ci.
â€¢	Nie pisz wszystkich testÃ³w w jednej klasie, bo moÅ¼esz siÄ™ pogubiÄ‡. SprÃ³buj je podzieliÄ‡ np. na dwie klasy (grupy testÃ³w) w zaleÅ¼noÅ›ci od tego
    co w danym teÅ›cie weryfikujesz (ale jak nie wiesz jak to nie rÃ³b tego na siÅ‚Ä™).
â€¢	Nie testuj absolutnie wszystkich moÅ¼liwoÅ›ci i kombinacji danych. Naszym celem jest jedynie weryfikacja, Å¼e akcje podane w wymaganiach dziaÅ‚ajÄ…
    (przypadki pozytywne) i Å¼e komunikaty bÅ‚Ä™dÃ³w sÄ… prawidÅ‚owe.
â€¢	Przypomnij sobie lekcje o podstawowych zasadach programowania â€“ bardzo Ci siÄ™ przydadzÄ… (DRY, KISS, YAGNI).
â€¢	Staraj siÄ™ nie powtarzaÄ‡ w kodzie. W tym celu uÅ¼ywaj odpowiednich adnotacji (BeforeEach i AfterEach w JUnit), metod opakowujÄ…cych jakÄ…Å› jednÄ…
    logicznie spÃ³jnÄ… caÅ‚oÅ›Ä‡ (jakÄ…Å› operacjÄ™), ktÃ³rej uÅ¼ywasz w testach wielokrotnie.
â€¢	Staraj siÄ™ tworzyÄ‡ testy o rozsÄ…dnej dÅ‚ugoÅ›ci â€“ testuj jednÄ… wydzielonÄ… rzecz na raz.
â€¢	Stosuj jednÄ… asercjÄ™ w jednym teÅ›cie, ewentualnie asercjÄ™ grupowanÄ… (byÅ‚o o tym tutaj).
â€¢	Nie przesadÅº z optymalizacjÄ… kodu. Staraj siÄ™ nie dublowaÄ‡ kodu, ale jednoczeÅ›nie TwÃ³j kod powinien byÄ‡ czytelny i zrozumiaÅ‚y np. dla kogoÅ›,
    kto tych testÃ³w nie pisaÅ‚. Postaraj siÄ™ znaleÅºÄ‡ zÅ‚oty Å›rodek.
â€¢	Nie zapomnij dodaÄ‡ odpowiednich zaleÅ¼noÅ›ci w Mavenie (Selenium oraz JUnit). MoÅ¼esz w tym celu skorzystaÄ‡ z mvnrepository.com.
â€¢	Z trudniejszych rzeczy to na pewno przydadzÄ… Ci siÄ™ lekcje o Explicit Wait, Expected Conditions, ramkach i JavaScript.
â€¢	Zmienne i metody nazywaj po angielsku.

MaÅ‚o? StareTesty.Zadania dodatkowe

JeÅ¼eli jednak czujesz, Å¼e potrzebujesz wiÄ™kszego wyzwania to moÅ¼esz takÅ¼e:
â€¢	przetestowaÄ‡ bramkÄ™ pÅ‚atnoÅ›ci Stripe w trybie zwykÅ‚ym, 3D Secure i odrzuconej pÅ‚atnoÅ›ci (numery kart jakich moÅ¼esz uÅ¼yÄ‡ dostÄ™pne sÄ… w dokumentacji Stripe);
    przetestowaÄ‡ takÅ¼e komunikaty bÅ‚Ä™dÃ³w w tej bramce; uÅ¼yj poniÅ¼szych kart: https://stripe.com/docs/testing#three-ds-cards
â€¢	dodaÄ‡ wykonywanie screenshotÃ³w, gdy test sfailuje;
â€¢	stworzyÄ‡ testy do uruchamiania w gridzie (czyli uÅ¼yj RemoteWebDrivera i postaw sobie jakiegoÅ› prostego grida);
â€¢	zaczÄ…Ä‡ budowaÄ‡ framework testowy, jeÅ¼eli wiesz jak (jeÅ¼eli nie to spokojnie, zaraz bÄ™dziemy to robiÄ‡ w kursie).
Dodatkowa dokumentacja

ZostawiÄ™ tutaj tylko link do krÃ³ciutkiej dokumentacji znajdujÄ…cej siÄ™ bezpoÅ›rednio na stronie sklepu: dokumentacja do fakestore.
MoÅ¼e siÄ™ przydaÄ‡ jak bÄ™dziecie chcieli siÄ™ pobawiÄ‡ stronÄ… juÅ¼ poza zakresem tego zadania.

Helpunku!

GdzieÅ› siÄ™ zaciÄ™Å‚aÅ›? UtknÄ…Å‚eÅ› na jakimÅ› kroku? JeÅ¼eli naprawdÄ™ nie wiesz jak poradziÄ‡ sobie ze swoim problemem i nie wiesz co jeszcze moÅ¼esz zrobiÄ‡, sprawdÅº czy poniÅ¼ej nie ma odpowiedzi na TwÃ³j problem. JeÅ¼eli nie, zapytaj w komentarzu.
Przy uÅ¼yciu metody sendKeys() litery wpisujÄ… siÄ™ w innej kolejnoÅ›ci niÅ¼ tego oczekujÄ™
PomoÅ¼e Ciâ€¦ wolniejsze wpisywanie tekstu. Wystarczy poniÅ¼sza metoda. UÅ¼yj jej tylko tam, gdzie musisz, Å¼eby nie wydÅ‚uÅ¼yÄ‡ niebezpiecznie czasu trwania testÃ³w.
1.	private void slowType(WebElement element, String text) {
2.	for (int i = 0; i < text.length(); i++) {
3.	element.sendKeys(Character.toString(text.charAt(i)));
4.	}
5.	}
Metoda ta rozbiera stringa na pojedyncze znaki i wprowadza je osobno. KaÅ¼dego chara musi teÅ¼ po drodze przerobiÄ‡ na stringa, parametr tego typu musi byÄ‡ podany metodzie sendKeys().
Firefox nie radzi sobie z listÄ… rozwijanÄ…
RzeczywiÅ›cie, Firefox coÅ› nie moÅ¼e ogarnÄ…Ä‡ obiektu typu Select. RozwiÄ…zaniem jest potraktowanie listy rozwijanej jak kaÅ¼dego innego elementu. Czyli najpierw musimy go namierzyÄ‡ i w niego kliknÄ…Ä‡, Å¼eby rozwinÄ™Å‚a siÄ™ lista opcji, a potem musimy namierzyÄ‡ wybranÄ… opcjÄ™, jak zwykÅ‚y element i rÃ³wnieÅ¼ w niÄ… kliknÄ…Ä‡. SprawdÅº te elementy uÅ¼ywajÄ…c szukajki w konsoli developerskiej (F12), bo to wcale nie musi byÄ‡ obiekt o tagu select, jak Ci siÄ™ moÅ¼e wydawaÄ‡.
Interakcja z elementem na Firefox nie dziaÅ‚a (wpisanie tekstu, klikniÄ™cie itp.)
JeÅ¼eli obiekt jest dobrze zlokalizowany i nie dostajesz Å¼adnego bÅ‚Ä™du, Å¼e jest nieklikalny albo Å¼e nie istnieje, sprÃ³buj siÄ™ do niego najpierw przescrollowaÄ‡ za pomocÄ… JavaScript.
1.	((JavascriptExecutor) driver).executeScript("arguments[0].scrollIntoView(true);", element);
Reader Interactions
